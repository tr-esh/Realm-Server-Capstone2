"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[388],{31388:function(e,t,n){n.r(t),n.d(t,{default:function(){return ve}});var o=n(72791),r=n(4942),a=n(1413),i=n(74165),s=n(15861),c=n(70885),l=n(95193),d=n(89164),u=n(61889),p=n(36314),f=n(19095),x=n(64554),m=n(20890),h=n(90493),b=n(63366),v=n(87462),g=n(63733),Z=n(94419),y=n(20627),j=n(12065),C=n(66934),k=n(31402),S=n(23701),w=n(19103),F=n(40162),P=n(42071),R=n(66199),I=n(75878),T=n(21217);function A(e){return(0,T.Z)("MuiListItem",e)}var W=(0,I.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),N=n(34065);function E(e){return(0,T.Z)("MuiListItemSecondaryAction",e)}(0,I.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var L=n(80184),G=["className"],D=(0,C.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,v.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),M=o.forwardRef((function(e,t){var n=(0,k.Z)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,a=(0,b.Z)(n,G),i=o.useContext(R.Z),s=(0,v.Z)({},n,{disableGutters:i.disableGutters}),c=function(e){var t=e.disableGutters,n=e.classes,o={root:["root",t&&"disableGutters"]};return(0,Z.Z)(o,E,n)}(s);return(0,L.jsx)(D,(0,v.Z)({className:(0,g.Z)(c.root,r),ownerState:s,ref:t},a))}));M.muiName="ListItemSecondaryAction";var O=M,z=["className"],V=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],q=(0,C.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,o=e.ownerState;return(0,v.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!o.disablePadding&&(0,v.Z)({paddingTop:8,paddingBottom:8},o.dense&&{paddingTop:4,paddingBottom:4},!o.disableGutters&&{paddingLeft:16,paddingRight:16},!!o.secondaryAction&&{paddingRight:48}),!!o.secondaryAction&&(0,r.Z)({},"& > .".concat(N.Z.root),{paddingRight:48}),(t={},(0,r.Z)(t,"&.".concat(W.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,r.Z)(t,"&.".concat(W.selected),(0,r.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,j.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(W.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,j.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,r.Z)(t,"&.".concat(W.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===o.alignItems&&{alignItems:"flex-start"},o.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},o.button&&(0,r.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(W.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,j.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,j.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),o.hasSecondaryAction&&{paddingRight:48})})),B=(0,C.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),H=o.forwardRef((function(e,t){var n=(0,k.Z)({props:e,name:"MuiListItem"}),r=n.alignItems,a=void 0===r?"center":r,i=n.autoFocus,s=void 0!==i&&i,c=n.button,l=void 0!==c&&c,d=n.children,u=n.className,p=n.component,f=n.components,x=void 0===f?{}:f,m=n.componentsProps,h=void 0===m?{}:m,j=n.ContainerComponent,C=void 0===j?"li":j,I=n.ContainerProps,T=(I=void 0===I?{}:I).className,N=n.dense,E=void 0!==N&&N,G=n.disabled,D=void 0!==G&&G,M=n.disableGutters,H=void 0!==M&&M,_=n.disablePadding,Y=void 0!==_&&_,X=n.divider,Q=void 0!==X&&X,U=n.focusVisibleClassName,J=n.secondaryAction,K=n.selected,$=void 0!==K&&K,ee=n.slotProps,te=void 0===ee?{}:ee,ne=n.slots,oe=void 0===ne?{}:ne,re=(0,b.Z)(n.ContainerProps,z),ae=(0,b.Z)(n,V),ie=o.useContext(R.Z),se=o.useMemo((function(){return{dense:E||ie.dense||!1,alignItems:a,disableGutters:H}}),[a,ie.dense,E,H]),ce=o.useRef(null);(0,F.Z)((function(){s&&ce.current&&ce.current.focus()}),[s]);var le=o.Children.toArray(d),de=le.length&&(0,w.Z)(le[le.length-1],["ListItemSecondaryAction"]),ue=(0,v.Z)({},n,{alignItems:a,autoFocus:s,button:l,dense:se.dense,disabled:D,disableGutters:H,disablePadding:Y,divider:Q,hasSecondaryAction:de,selected:$}),pe=function(e){var t=e.alignItems,n=e.button,o=e.classes,r=e.dense,a=e.disabled,i={root:["root",r&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,Z.Z)(i,A,o)}(ue),fe=(0,P.Z)(ce,t),xe=oe.root||x.Root||q,me=te.root||h.root||{},he=(0,v.Z)({className:(0,g.Z)(pe.root,me.className,u),disabled:D},ae),be=p||"li";return l&&(he.component=p||"div",he.focusVisibleClassName=(0,g.Z)(W.focusVisible,U),be=S.Z),de?(be=he.component||p?be:"div","li"===C&&("li"===be?be="div":"li"===he.component&&(he.component="div")),(0,L.jsx)(R.Z.Provider,{value:se,children:(0,L.jsxs)(B,(0,v.Z)({as:C,className:(0,g.Z)(pe.container,T),ref:fe,ownerState:ue},re,{children:[(0,L.jsx)(xe,(0,v.Z)({},me,!(0,y.X)(xe)&&{as:be,ownerState:(0,v.Z)({},ue,me.ownerState)},he,{children:le})),le.pop()]}))})):(0,L.jsx)(R.Z.Provider,{value:se,children:(0,L.jsxs)(xe,(0,v.Z)({},me,{as:be,ref:fe},!(0,y.X)(xe)&&{ownerState:(0,v.Z)({},ue,me.ownerState)},he,{children:[le,J&&(0,L.jsx)(O,{children:J})]}))})})),_=n(20653),Y=n(93044),X=n(49900),Q=n(23356),U=n(13400),J=n(64280),K=n(94294),$=n(57689),ee=n(45987),te=n(57621),ne=["station","onDelete","index","sx"];function oe(e){var t=e.station,n=(e.onDelete,e.index,e.sx),r=(0,ee.Z)(e,ne),i=t.cover,s=t.title,l=t.subtitle,d=(0,o.useState)(!1),u=(0,c.Z)(d,2),f=u[0],h=u[1],b=(0,L.jsx)(m.Z,{variant:"h6",color:"textPrimary",sx:{fontSize:30,fontFamily:"Poppins",fontWeight:"700",textTransform:"uppercase",mt:2,position:"relative",color:f?"#0d2135":"#8CACFF","&:before":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:-1,transition:"background-color 0.3s ease-in-out"},"&:hover:before":{backgroundColor:"#0d2135"}},children:s});return(0,L.jsxs)(te.Z,(0,a.Z)((0,a.Z)({onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},sx:(0,a.Z)({px:4,py:4,borderRadius:10,backgroundColor:"#10273d",position:"relative",transition:"background-color 0.3s ease-in-out","&:hover":{backgroundColor:"#8CACFF",cursor:"pointer"}},n)},r),{},{children:[(0,L.jsxs)(p.Z,{direction:"column",alignItems:"center",children:[b,(0,L.jsx)(m.Z,{variant:"subtitle2",color:"textSecondary",sx:{color:"white",fontSize:10,fontFamily:"Poppins",fontWeight:"400",textTransform:"capitalize",lineHeight:.2,mb:3},children:l})]}),(0,L.jsx)(x.Z,{sx:{position:"absolute",top:"50%",transform:"translateY(-23%)",width:"100%",height:"70%",ml:-4,overflow:"hidden"},children:(0,L.jsx)(x.Z,{component:"div",sx:{width:"100%",height:"100%",borderRadius:"inherit",display:"block",position:"relative",background:"linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0)), url(".concat(i,")"),backgroundSize:"cover",backgroundPosition:"center"}})})]}))}var re=n(5289),ae=n(65661),ie=n(39157),se=n(51691),ce=n(97123),le=n(872),de=n(5130),ue=["title","subtitle","icon","color","sx"];function pe(e){var t=e.title,n=(e.subtitle,e.icon,e.color,e.sx),r=(0,ee.Z)(e,ue),l=(0,o.useState)([]),d=(0,c.Z)(l,2),p=d[0],b=d[1],v=(0,o.useState)(0),g=(0,c.Z)(v,2),Z=g[0],y=g[1],j=(0,o.useState)(!1),C=(0,c.Z)(j,2),k=C[0],S=C[1],w=(0,o.useState)(null),F=(0,c.Z)(w,2),P=F[0],R=F[1],I=(0,o.useState)(!1),T=(0,c.Z)(I,2),A=T[0],W=T[1];(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/realm/getRequest");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,b(n.allDocuments),y(n.totalCount),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,5e3);return function(){return clearInterval(t)}}),[]);var N=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var o,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=4;break}return console.error("No request selected."),e.abrupt("return");case 4:if("approve"!==t){e.next=13;break}return o="api/realm/approvePending/".concat(n._id),"POST",e.next=9,E(o,"POST");case 9:r=e.sent,G(r,t),e.next=14;break;case 13:"deny"===t?(W(!0),R(n)):console.error("Invalid action.");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error ".concat(t,":"),e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json"}});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e,t){e.ok?(S(!1),console.log("Request ".concat("approve"===t?"approved":"deny"," successfully."))):console.error("Failed to ".concat(t,":"),e.statusText)},D=function(){W(!1)},M=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!1),t="api/realm/deletePending/".concat(P._id),"DELETE",e.next=5,E(t,"DELETE");case 5:n=e.sent,G(n,"deny");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[Z>0||p.length>0?(0,L.jsx)(te.Z,(0,a.Z)((0,a.Z)({component:u.ZP,container:!0,sx:n},r),{},{children:(0,L.jsx)(u.ZP,{item:!0,xs:12,md:12,children:(0,L.jsxs)(x.Z,{children:[(0,L.jsx)(m.Z,{variant:"h4",sx:{fontSize:50,fontFamily:"'Arimo', sans-serif",fontWeight:"700",color:"white",textTransform:"uppercase"},children:t}),(0,L.jsxs)(K.Z,{variant:"contained",color:"primary",onClick:function(){return S(!0)},sx:{borderRadius:30,padding:"10px 20px",backgroundColor:"transparent",border:"2px solid #1976d2",color:"#1976d2",fontFamily:"Poppins",fontWeight:"600",textTransform:"uppercase","&:hover":{backgroundColor:"#1976d2",color:"#fff"}},children:[(0,L.jsx)(x.Z,{sx:{borderRadius:"50%",width:30,height:30,backgroundColor:"#1976d2",display:"flex",justifyContent:"center",alignItems:"center",marginRight:2},children:(0,L.jsx)(m.Z,{variant:"body1",sx:{color:"#fff",fontWeight:"bold",fontFamily:"Poppins"},children:Z})}),"Pending Requests"]})]})})})):null,(0,L.jsx)(f.Z,{open:k,onClose:function(){S(!1),R(null)},"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Poppins"},children:(0,L.jsxs)(x.Z,{sx:{bgcolor:"background.paper",boxShadow:24,borderRadius:8,p:4,maxWidth:400,fontFamily:"Poppins"},children:[(0,L.jsxs)(m.Z,{variant:"h6",id:"modal-title",component:"h2",sx:{fontFamily:"Poppins",fontWeight:"700"},children:["PENDING ",(0,L.jsx)("span",{style:{color:"#8CACFF"},children:" REQUESTS"})]}),(0,L.jsx)(m.Z,{variant:"subtitle4",id:"modal-title",component:"subtitle",sx:{fontFamily:"Poppins"},children:"Requests for the approval of new station"}),(0,L.jsx)(h.Z,{children:p.map((function(e){return(0,L.jsxs)(H,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"2rem"},children:[(0,L.jsx)(_.Z,{children:(0,L.jsx)(Y.Z,{alt:"Station Image",src:e.stationImage&&e.stationImage.url,sx:{width:70,height:70,marginRight:"8px"}})}),(0,L.jsx)(X.Z,{primary:e.stationName,secondary:e.siteLocation+"  | "+e.address,sx:{fontFamily:"Poppins","& .MuiTypography-root":{fontFamily:"Poppins"}}}),(0,L.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,L.jsx)(Q.Z,{title:"Approve",style:{fontFamily:"Poppins",color:"#a4c2aa",backgroundColor:"#e8f4ea"},children:(0,L.jsx)(U.Z,{onClick:function(){return N("approve",e)},children:(0,L.jsx)(le.Z,{})})}),(0,L.jsx)(Q.Z,{title:"Deny",style:{fontFamily:"Poppins",color:"#C16262",backgroundColor:"#FFE4E4"},children:(0,L.jsx)(U.Z,{onClick:function(){return N("deny",e)},children:(0,L.jsx)(de.Z,{})})})]})]},e._id)}))})]})}),(0,L.jsxs)(re.Z,{open:A,onClose:D,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",PaperProps:{style:{borderRadius:20}},children:[(0,L.jsx)(ae.Z,{style:{fontFamily:"Poppins",fontWeight:"700"},id:"confirmation-dialog-title",children:"Decline Request?"}),(0,L.jsx)(ie.Z,{children:(0,L.jsxs)(se.Z,{style:{fontFamily:"Poppins",fontWeight:"500"},id:"confirmation-dialog-description",children:["Are you sure you want to decline ",P&&P.stationName,"?"]})}),(0,L.jsxs)(ce.Z,{style:{justifyContent:"space-between"},children:[(0,L.jsx)(K.Z,{onClick:D,style:{borderTopLeftRadius:0,borderBottomLeftRadius:20,background:"#C16262",color:"white",flexGrow:1},children:"No"}),(0,L.jsx)(K.Z,{onClick:M,style:{borderTopRightRadius:0,borderBottomRightRadius:20,background:"#a4c2aa",color:"white",flexGrow:1},autoFocus:!0,children:"Yes"})]})]})]})}var fe=["onClick","totalCount","sx"];function xe(e){var t=e.onClick,n=e.totalCount,o=(e.sx,(0,ee.Z)(e,fe));return(0,L.jsxs)(K.Z,(0,a.Z)((0,a.Z)({"aria-controls":"simple-menu","aria-haspopup":"true",onClick:t,sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"#8CACFF",opacity:.8,color:"#0A1929"},borderRadius:5,color:"rgb(25, 118, 210)",width:150,height:45,fontSize:"0.8rem",fontWeight:"500",fontFamily:"Poppins",border:"1px solid #8CACFF"}},o),{},{children:[(0,L.jsx)(x.Z,{sx:{borderRadius:"50%",width:20,height:20,backgroundColor:"transparent",color:"rgb(25, 118, 210)",border:"1px solid rgb(25, 118, 210)",display:"flex",justifyContent:"center",alignItems:"center",marginRight:1},children:(0,L.jsx)(m.Z,{variant:"body1",sx:{color:"rgb(25, 118, 210)",fontWeight:"bold",fontSize:"13px",fontFamily:"Poppins"},children:n})}),"Trash Bin"]}))}var me=n(10365),he=n(90503);function be(){var e,t=(0,$.s0)(),n=(0,o.useState)([]),b=(0,c.Z)(n,2),v=b[0],g=b[1],Z=(0,o.useState)([]),y=(0,c.Z)(Z,2),j=y[0],C=y[1],k=(0,o.useState)(0),S=(0,c.Z)(k,2),w=S[0],F=S[1],P=(0,o.useState)(!1),R=(0,c.Z)(P,2),I=R[0],T=R[1],A=(0,o.useState)(null),W=(0,c.Z)(A,2),N=W[0],E=W[1],G=(0,o.useState)(!1),D=(0,c.Z)(G,2),M=D[0],O=D[1],z=(0,o.useState)(""),V=(0,c.Z)(z,2),q=V[0],B=V[1],ee=(0,l.Z)("(min-width: 960px)");(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/realm/setStation");case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:n=e.sent,console.log("Fetched stations:",n),g(n),e.next=13;break;case 12:console.error("Failed to fetch station data");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching station data",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,5e3);return function(){return clearInterval(t)}}),[]),(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/realm/getDeletedStation");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o=n.allDocuments.map((function(e){var t=new Date(e.deletionTimestamp).getTime(),n=(new Date).getTime(),o=Math.ceil((t-n)/864e5);return(0,a.Z)((0,a.Z)({},e),{},{remainingDays:o})})),C(o),F(n.totalCount),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var te=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/deleteStation/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});case 3:if(!e.sent.ok){e.next=7;break}e.next=8;break;case 7:throw new Error("Failed to delete station");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error deleting station:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var o,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=4;break}return console.error("No request selected."),e.abrupt("return");case 4:if("restore"!==t){e.next=13;break}return o="api/realm/restoreStation/".concat(n.stationName),"POST",e.next=9,re(o,"POST");case 9:r=e.sent,ae(r,t),e.next=14;break;case 13:"delete"===t?(O(!0),E(n)):console.error("Invalid action.");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error ".concat(t,":"),e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json"}});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(e,t){e.ok?(T(!1),console.log("Request ".concat("restore"===t?"restored":"deny"," successfully."))):console.error("Failed to ".concat(t,":"),e.statusText)},ie=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q!==N){e.next=20;break}return e.prev=1,e.next=4,fetch("/api/realm/deleteStationDB/".concat(N),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 4:if(!e.sent.ok){e.next=12;break}console.log("Station deleted successfully"),O(!1),T(!1),B(""),e.next=13;break;case 12:throw new Error("Failed to delete station");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error deleting station:",e.t0);case 18:e.next=21;break;case 20:console.error("Confirmation input does not match station name");case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(d.Z,{maxWidth:"lg",className:"station-card-main",children:[(0,L.jsxs)(u.ZP,{container:!0,spacing:5,mt:2,children:[(0,L.jsx)(u.ZP,{container:!0,item:!0,spacing:2,justifyContent:"space-between",children:ee?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,L.jsx)("span",{style:(e={color:"white",borderRadius:30,padding:"10px 20px",backgroundColor:"transparent",border:"2px solid #1976d2"},(0,r.Z)(e,"color","#1976d2"),(0,r.Z)(e,"fontFamily","'Arimo', sans-serif"),(0,r.Z)(e,"fontWeight","700"),(0,r.Z)(e,"fontSize",15),(0,r.Z)(e,"textTransform","uppercase"),(0,r.Z)(e,"marginLeft",ee?"20px":"0"),(0,r.Z)(e,"display",ee?"inline-block":"block"),e),children:"Select Station to View"})}),(0,L.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,L.jsx)(p.Z,{sx:{marginLeft:"200px"},children:(0,L.jsx)(pe,{sx:{backgroundColor:"#0d2135",boxShadow:"none"}})})})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.ZP,{item:!0,xs:12,children:(0,L.jsx)(pe,{sx:{backgroundColor:"#0d2135",boxShadow:"none",marginBottom:"20px"}})}),(0,L.jsx)(u.ZP,{item:!0,xs:12,children:(0,L.jsx)("span",{style:{borderRadius:30,padding:"10px 20px",backgroundColor:"transparent",border:"2px solid #1976d2",color:"#1976d2",fontFamily:"Poppins",fontWeight:"700",fontSize:15,textTransform:"uppercase"},children:"Select Station to View"})})]})}),v.map((function(e){return(0,L.jsx)(u.ZP,{item:!0,mb:2,xs:12,sm:12,md:6,lg:6,children:(0,L.jsx)(oe,{sx:{height:300},onClick:function(){return n=e.stationName,void t("/stations/".concat(n),{state:{title:n}});var n},station:{subtitle:"".concat(e.siteLocation," | ").concat(e.address),cover:e.stationImage.url,createdAt:e.createdAt,title:e.stationName},onDelete:te})},e._id)})),(0,L.jsx)(u.ZP,{container:!0,mt:3,spacing:4,mb:2,children:(0,L.jsx)(u.ZP,{item:!0,xs:12,children:(0,L.jsx)(p.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,L.jsx)(xe,{totalCount:w,onClick:function(){return T(!0)}})})})})]}),(0,L.jsx)(f.Z,{open:I,onClose:function(){T(!1),E(null)},"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Poppins"},children:(0,L.jsxs)(x.Z,{sx:{bgcolor:"background.paper",boxShadow:24,borderRadius:8,p:4,maxWidth:400,fontFamily:"Poppins"},children:[(0,L.jsxs)(m.Z,{variant:"h6",id:"modal-title",component:"h2",sx:{fontFamily:"Poppins",fontWeight:"700"},children:["TRASH ",(0,L.jsx)("span",{style:{color:"#8CACFF"},children:" BIN "})]}),(0,L.jsx)(m.Z,{variant:"subtitle",id:"modal-title",component:"subtitle",sx:{fontFamily:"Poppins",fontSize:"14px"},children:"Recently deleted stations will be kept in cloud for 30 days, after which they will be automatically and permanently deleted."}),0===w?(0,L.jsx)(m.Z,{variant:"body1",sx:{fontFamily:"Poppins",color:"#A9A9A9",margin:"20px 0 20px 120px"},children:"No deleted station"}):(0,L.jsx)(h.Z,{children:j.map((function(e){return(0,L.jsxs)(H,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"2rem",position:"relative"},children:[(0,L.jsxs)(_.Z,{children:[(0,L.jsx)(Y.Z,{alt:"Station Image",src:e.stationImage&&e.stationImage.url,sx:{width:70,height:70,marginRight:"8px"}}),(0,L.jsxs)(m.Z,{variant:"body2",sx:{position:"absolute",top:"50px",bottom:"0.3",left:"27px",backgroundColor:"rgba(0, 0, 0, 0.5)",fontSize:"11px",color:"#fff",padding:"4px 4px",borderRadius:"20px"},children:[e.remainingDays," days"]})]}),(0,L.jsx)(X.Z,{primary:e.stationName,secondary:e.siteLocation+"  | "+e.address,sx:{fontFamily:"Poppins","& .MuiTypography-root":{fontFamily:"Poppins"}}}),(0,L.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,L.jsx)(Q.Z,{title:"Restore",style:{fontFamily:"Poppins",color:"#333333",backgroundColor:"#c0c0c0"},children:(0,L.jsx)(U.Z,{children:(0,L.jsx)(me.Z,{onClick:function(){return ne("restore",e)}})})}),(0,L.jsx)(Q.Z,{title:"Delete",style:{fontFamily:"Poppins",color:"#C16262",backgroundColor:"#FFE4E4"},children:(0,L.jsx)(U.Z,{children:(0,L.jsx)(he.Z,{onClick:function(){return t=e.stationName,E(t),void O(!0);var t}})})})]})]},e._id)}))})]})}),(0,L.jsx)(f.Z,{open:M,onClose:function(){return O(!1)},"aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Poppins"},children:(0,L.jsxs)(x.Z,{sx:{bgcolor:"background.paper",boxShadow:24,borderRadius:8,p:4,maxWidth:400,padding:"3rem"},children:[(0,L.jsx)(m.Z,{variant:"h6",id:"confirmation-modal-title",component:"h2",sx:{fontFamily:"Poppins",fontWeight:"700"},children:"DELETE STATION"}),(0,L.jsxs)(m.Z,{variant:"subtitle1",id:"confirmation-modal-description",sx:{fontFamily:"Poppins",fontSize:"14px"},children:["Are you sure you want to delete this station? Please type ",(0,L.jsxs)("span",{style:{fontWeight:"700",color:"#C16262"},children:[" ",N," "]})," to confirm deletion."]}),(0,L.jsx)(J.Z,{label:"Station Name",variant:"outlined",fullWidth:!0,value:q,onChange:function(e){B(e.target.value)},sx:{mt:2}}),(0,L.jsx)(K.Z,{variant:"contained",onClick:ie,disabled:!q||q!==N,sx:{mt:2,borderRadius:10,fontFamily:"Poppins",fontWeight:"600",boxShadow:"none",backgroundColor:q&&q===N?"#FFE4E4":"#F5F5F5",color:q&&q===N?"#C16262":"#BDBDBD","&:hover":{backgroundColor:"#FFCFCF",color:"#C16262"},"&:active":{backgroundColor:"#C16262",color:"#FFFFFF"}},children:"Delete"})]})})]})}function ve(){return(0,L.jsx)("div",{className:"station-card-view",children:(0,L.jsx)(be,{})})}},872:function(e,t,n){var o=n(64836);t.Z=void 0;var r=o(n(45649)),a=n(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=i},5130:function(e,t,n){var o=n(64836);t.Z=void 0;var r=o(n(45649)),a=n(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=i},90503:function(e,t,n){var o=n(64836);t.Z=void 0;var r=o(n(45649)),a=n(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined");t.Z=i},10365:function(e,t,n){var o=n(64836);t.Z=void 0;var r=o(n(45649)),a=n(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 3.99L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z"}),"RestoreOutlined");t.Z=i},89164:function(e,t,n){n.d(t,{Z:function(){return k}});var o=n(4942),r=n(63366),a=n(87462),i=n(72791),s=n(63733),c=n(31122),l=n(21217),d=n(94419),u=n(86083),p=n(93457),f=n(85080),x=n(80184),m=["className","component","disableGutters","fixed","maxWidth","classes"],h=(0,f.Z)(),b=(0,p.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,c.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),v=function(e){return(0,u.Z)({props:e,name:"MuiContainer",defaultTheme:h})},g=function(e,t){var n=e.classes,o=e.fixed,r=e.disableGutters,a=e.maxWidth,i={root:["root",a&&"maxWidth".concat((0,c.Z)(String(a))),o&&"fixed",r&&"disableGutters"]};return(0,d.Z)(i,(function(e){return(0,l.Z)(t,e)}),n)};var Z=n(14036),y=n(66934),j=n(31402),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?b:t,c=e.useThemeProps,l=void 0===c?v:c,d=e.componentName,u=void 0===d?"MuiContainer":d,p=n((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,o.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var o=n,r=t.breakpoints.values[o];return 0!==r&&(e[t.breakpoints.up(o)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({},"xs"===n.maxWidth&&(0,o.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,o.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),f=i.forwardRef((function(e,t){var n=l(e),o=n.className,i=n.component,c=void 0===i?"div":i,d=n.disableGutters,f=void 0!==d&&d,h=n.fixed,b=void 0!==h&&h,v=n.maxWidth,Z=void 0===v?"lg":v,y=(0,r.Z)(n,m),j=(0,a.Z)({},n,{component:c,disableGutters:f,fixed:b,maxWidth:Z}),C=g(j,u);return(0,x.jsx)(p,(0,a.Z)({as:c,ownerState:j,className:(0,s.Z)(C.root,o),ref:t},y))}));return f}({createStyledComponent:(0,y.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,Z.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:function(e){return(0,j.Z)({props:e,name:"MuiContainer"})}}),k=C}}]);
//# sourceMappingURL=388.64e23020.chunk.js.map