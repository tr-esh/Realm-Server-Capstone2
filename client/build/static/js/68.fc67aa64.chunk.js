"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[68],{95068:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(72791),o=n(74165),a=n(1413),i=n(15861),s=n(70885),c=n(89164),u=n(61889),l=n(36314),d=n(45987),h=n(57621),m=n(20890),f=n(80184),x=["title","subtitle","icon","color","sx"];function p(e){var t=e.title,n=e.subtitle,r=(e.icon,e.color,e.sx),o=(0,d.Z)(e,x);return(0,f.jsx)(h.Z,(0,a.Z)((0,a.Z)({component:l.Z,spacing:3,direction:"row",sx:(0,a.Z)({px:4,py:4,borderRadius:10},r)},o),{},{children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(m.Z,{variant:"h4",sx:{fontSize:50,fontFamily:"Archivo, 'sans-serif'",fontWeight:"700",color:"white",mb:-3},children:t}),(0,f.jsx)(m.Z,{variant:"h4",sx:{fontSize:50,fontFamily:"Archivo, 'sans-serif'",fontWeight:"700"},children:n})]})}))}var v=n(94721),Z=n(44780),b=["monthName","dataCount","entries","sx"];function g(e){var t=e.monthName,n=e.dataCount,r=(e.entries,e.sx),o=(0,d.Z)(e,b);return(0,f.jsx)(h.Z,(0,a.Z)((0,a.Z)({spacing:3,sx:(0,a.Z)((0,a.Z)({px:4,py:4,borderRadius:10},r),n?{}:{opacity:.5})},o),{},{children:(0,f.jsxs)(l.Z,{direction:"column",alignItems:"center",children:[(0,f.jsx)(m.Z,{variant:"h4",sx:{color:"white",fontFamily:"Archivo, 'sans-serif'",fontWeight:"700",textTransform:"uppercase"},children:t}),(0,f.jsx)(v.Z,{sx:{my:2,backgroundColor:"#10273d",width:"100%"}}),(0,f.jsx)(m.Z,{variant:"subtitle1",sx:{color:"#8cacff",fontSize:50,fontFamily:"Archivo, 'sans-serif'",fontWeight:"500",textTransform:"uppercase"},children:n?"".concat(n):(0,f.jsx)(l.Z,{direction:"column",alignItems:"center",children:(0,f.jsx)(Z.Z,{sx:{fontSize:20,mt:4.5,mr:1,mb:4}})})}),(0,f.jsx)(m.Z,{variant:"subtitle1",sx:{color:"white",fontSize:17,fontFamily:"Archivo, 'sans-serif'",fontWeight:"300",lineHeight:.9},children:"entries"})]})}))}var C=n(94294),S=n(71715),j=n(5022),y=n(26759),k=["onSort","sx"];function F(e){var t=e.onSort,n=(e.sx,(0,d.Z)(e,k),(0,r.useState)("")),a=(0,s.Z)(n,2),c=a[0],u=a[1],l=(0,r.useState)(null),h=(0,s.Z)(l,2),m=h[0],x=h[1],p=(0,r.useState)([]),v=(0,s.Z)(p,2),Z=v[0],b=v[1];(0,r.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/realm/yearOptions");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log("Fetched data:",n),Array.isArray(n.yearOptions)?(b(n.yearOptions),u(n.currentYear||"")):console.error("Error: yearOptions is not an array:",n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching years:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=function(e){x(null),e&&e.label&&(u(e.label),t&&t(e))};return 0===Z.length?(0,f.jsx)("p",{children:"Loading..."}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.Z,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},endIcon:(0,f.jsx)(y.Z,{}),sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"#8CACFF",opacity:.8,color:"#0A1929"},borderRadius:5,color:"white",width:150,height:45,fontSize:"0.8rem",fontWeight:"700",fontFamily:'"Archivo", Sans-serif',border:"1px solid #8CACFF"},children:c}),(0,f.jsx)(S.Z,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){return g(null)},sx:{".MuiPaper-root":{backgroundColor:"rgba(13, 33, 53, 0.32)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",color:"white",fontSize:"0.5rem",fontFamily:"'Archivo', sans-serif"},".MuiMenuItem-root":{fontSize:"0.8rem",fontFamily:"'Archivo', sans-serif"}},children:Z.map((function(e){return(0,f.jsx)(j.Z,{value:e.value,onClick:function(){return g(e)},children:e.label},e.value)}))})]})}var w=["onSort","sx"];function N(e){var t=e.onSort,n=(e.sx,(0,d.Z)(e,w),(0,r.useState)("")),a=(0,s.Z)(n,2),c=a[0],u=a[1],l=(0,r.useState)(null),h=(0,s.Z)(l,2),m=h[0],x=h[1],p=(0,r.useState)([]),v=(0,s.Z)(p,2),Z=v[0],b=v[1];(0,r.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/realm/stationOptions");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,b(n),u(n.length>0?n[0].label:""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching stations:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=function(e){x(null),e&&(u(e.label),t&&t(e))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.Z,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},endIcon:(0,f.jsx)(y.Z,{}),sx:{backgroundColor:"#8CACFF","&:hover":{backgroundColor:"#8CACFF",opacity:.8},borderRadius:5,color:"#0A1929",width:150,height:45,fontSize:"0.8rem",fontWeight:"700",fontFamily:'"Archivo", Sans-serif'},children:c}),(0,f.jsx)(S.Z,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){return g(null)},sx:{".MuiPaper-root":{backgroundColor:"rgba(13, 33, 53, 0.32)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",color:"white",fontSize:"0.5rem",fontFamily:"'Archivo', sans-serif"},".MuiMenuItem-root":{fontSize:"0.8rem",fontFamily:"'Archivo', sans-serif"}},children:Z.map((function(e){return(0,f.jsx)(j.Z,{value:e.value,onClick:function(){return g(e)},children:e.label},e.value)}))})]})}var W=n(57689),A=n(11087);function M(){(0,W.s0)();var e=(0,r.useState)({value:"Station HO1",label:"Station HO1"}),t=(0,s.Z)(e,2),n=t[0],d=t[1],h=(0,r.useState)({value:(new Date).getFullYear().toString(),label:(new Date).getFullYear().toString()}),m=(0,s.Z)(h,2),x=m[0],v=m[1],Z=(0,r.useState)(!1),b=(0,s.Z)(Z,2),C=(b[0],b[1]),S=(0,r.useState)(""),j=(0,s.Z)(S,2),y=(j[0],j[1]),k=(0,r.useState)([]),w=(0,s.Z)(k,2),M=w[0],z=(w[1],(0,r.useState)([])),E=(0,s.Z)(z,2),R=E[0],O=(E[1],(0,r.useState)([{monthName:"January",dataCount:0,entries:"0"},{monthName:"February",dataCount:0,entries:"0"},{monthName:"March",dataCount:0,entries:"0"},{monthName:"April",dataCount:0,entries:"0"},{monthName:"May",dataCount:0,entries:"0"},{monthName:"June",dataCount:0,entries:"0"},{monthName:"July",dataCount:0,entries:"0"},{monthName:"August",dataCount:0,entries:"0"},{monthName:"September",dataCount:0,entries:"0"},{monthName:"October",dataCount:0,entries:"0"},{monthName:"November",dataCount:0,entries:"0"},{monthName:"December",dataCount:0,entries:"0"}])),P=(0,s.Z)(O,2),G=P[0],D=P[1];(0,r.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,r,i,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),console.log("Fetching data for station:",null===n||void 0===n?void 0:n.value),console.log("Fetching data for year:",x),e.next=6,fetch("/api/realm/monthlyEntry/".concat((null===n||void 0===n?void 0:n.value)||"","/").concat(x.value));case 6:return t=e.sent,e.next=9,t.json();case 9:r=e.sent,console.log("Fetched Monthly Data:",r),i=Object.entries(r).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return{monthName:I(parseInt(n)),dataCount:r,entries:r.toString()}})),c=G.map((function(e){var t=i.find((function(t){return t.monthName===e.monthName}));return t||(0,a.Z)((0,a.Z)({},e),{},{dataCount:0,entries:"0"})})),D(c),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),y("Error fetching monthly data"),console.error("Error fetching monthly data:",e.t0);case 20:return e.prev=20,C(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,x]);var I=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]||""};return(0,f.jsx)(c.Z,{maxWidth:"lg",children:(0,f.jsxs)(u.ZP,{container:!0,mt:5,children:[(0,f.jsx)(u.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,f.jsx)(p,{sx:{backgroundColor:"#8CACFF"},title:"LOGS",subtitle:"ENTRIES"})}),(0,f.jsxs)(u.ZP,{container:!0,mt:5,spacing:2,children:[(0,f.jsx)(u.ZP,{item:!0,xs:6,children:(0,f.jsx)(N,{options:M,onSort:function(e){return d(e)}})}),(0,f.jsx)(u.ZP,{item:!0,xs:6,children:(0,f.jsx)(l.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,f.jsx)(F,{options:R,onSort:function(e){v(e)}})})})]}),(0,f.jsx)(u.ZP,{container:!0,spacing:4,mt:1,children:G.map((function(e,t){return(0,f.jsx)(u.ZP,{item:!0,xs:12,sm:12,md:6,lg:4,children:e.dataCount>0?(0,f.jsx)(A.rU,{to:"/logentries/".concat(null===n||void 0===n?void 0:n.value,"/").concat(e.monthName,"/").concat(x.value),style:{textDecoration:"none",color:"inherit"},children:(0,f.jsx)(g,{sx:{backgroundColor:"#10273d"},monthName:e.monthName,dataCount:e.dataCount||0,entries:e.entries})}):(0,f.jsx)(g,{sx:{backgroundColor:"#10273d",pointerEvents:"none"},monthName:e.monthName,dataCount:e.dataCount||0,entries:e.entries||"0"})},t)}))})]})})}function z(){return(0,f.jsx)("div",{children:(0,f.jsx)(M,{})})}},26759:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=i},44780:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M14.07 5.32C16.26 6 18 7.74 18.68 9.93c.19.63.76 1.07 1.41 1.07h.04c1 0 1.72-.96 1.43-1.91-.97-3.18-3.48-5.69-6.66-6.66-.94-.29-1.9.43-1.9 1.43v.04c0 .66.44 1.23 1.07 1.42zm4.61 8.75c-.68 2.2-2.42 3.93-4.61 4.61-.63.19-1.07.76-1.07 1.41v.04c0 1 .96 1.72 1.91 1.43 3.18-.97 5.69-3.48 6.66-6.66.29-.95-.43-1.91-1.42-1.91h-.05c-.66.01-1.23.45-1.42 1.08zM11 20.11c0-.67-.45-1.24-1.09-1.44C7.07 17.78 5 15.13 5 12s2.07-5.78 4.91-6.67c.64-.2 1.09-.77 1.09-1.44v-.01c0-1-.97-1.74-1.93-1.44C4.98 3.69 2 7.5 2 12c0 4.5 2.98 8.31 7.07 9.56.96.3 1.93-.44 1.93-1.45z"}),"DonutLargeRounded");t.Z=i},89164:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(4942),o=n(63366),a=n(87462),i=n(72791),s=n(63733),c=n(31122),u=n(21217),l=n(94419),d=n(86083),h=n(93457),m=n(85080),f=n(80184),x=["className","component","disableGutters","fixed","maxWidth","classes"],p=(0,m.Z)(),v=(0,h.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,c.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Z=function(e){return(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:p})},b=function(e,t){var n=e.classes,r=e.fixed,o=e.disableGutters,a=e.maxWidth,i={root:["root",a&&"maxWidth".concat((0,c.Z)(String(a))),r&&"fixed",o&&"disableGutters"]};return(0,l.Z)(i,(function(e){return(0,u.Z)(t,e)}),n)};var g=n(14036),C=n(66934),S=n(31402),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?v:t,c=e.useThemeProps,u=void 0===c?Z:c,l=e.componentName,d=void 0===l?"MuiContainer":l,h=n((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,r.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({},"xs"===n.maxWidth&&(0,r.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,r.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),m=i.forwardRef((function(e,t){var n=u(e),r=n.className,i=n.component,c=void 0===i?"div":i,l=n.disableGutters,m=void 0!==l&&l,p=n.fixed,v=void 0!==p&&p,Z=n.maxWidth,g=void 0===Z?"lg":Z,C=(0,o.Z)(n,x),S=(0,a.Z)({},n,{component:c,disableGutters:m,fixed:v,maxWidth:g}),j=b(S,d);return(0,f.jsx)(h,(0,a.Z)({as:c,ownerState:S,className:(0,s.Z)(j.root,r),ref:t},C))}));return m}({createStyledComponent:(0,C.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,g.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:function(e){return(0,S.Z)({props:e,name:"MuiContainer"})}}),y=j}}]);
//# sourceMappingURL=68.fc67aa64.chunk.js.map